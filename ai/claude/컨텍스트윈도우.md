# 컨텍스트 윈도우

언어 모델이 새로운 텍스트를 생성할 때 참조할 수 있는 전체 텍스트 양을 의미하며, 생성된 새로운 텍스트를 포함한다.

언어 모델이 훈련받은 방대한 데이터 집합과는 다르며, 대신 모델의 "작업 기억"을 나타낸다.

더 큰 컨텍스트 윈도우는 모델이 더 복잡하고 긴 프롬프트를 이해하고 응답할 수 있게 한다.

더 작은 컨텍스트 윈도우는 모델이 긴 프롬프트를 처리하거나 확장된 대화에서 일관성을 유지하는 능력을 제한할 수 있다.

---

- 점진적인 토큰 축적 
  - 대화가 진행됨에 따라 각 사용자 메시지와 이시스턴트 응답이 컨텍스트 윈도우 내에 축적됩니다.
  - 컨텍스트 사용은 각 턴마다 선형적으로 증가하며, 이전 턴은 완전히 보존된다.
  - 총 사용 가능한 컨텍트츠 창(200,000토큰 => 모델마다 다름)은 대화 기록을 저장하고, claude로부터 새로운 출력을 생성하는 최대 용량을 나타냅니다.
- 선형 성장 패턴
  - 사용은 각 턴마다 선형적으로 증가하며, 이전 턴은 완전히 보존됩니다. 
- 200K 토큰 용량
  - 총 사용 가능한 컨텍스트 창(200,000토큰)은 대화 기록을 저장하고 Claude로부터 새로운 출력을 생성하는 최대 용량을 나타냅니다.

---

# 확장된 사고를 위한 컨텍스트 창

- 확장된 사고

- 획장된 사고를 사용할 때, 사고에 이용되는 토큰을 포함한 모든 입력 및 출력 토큰은 컨텍스트 창 한도에 포함되며 사고 예산 코큰은 요금 한도에 포함됩니다.

- 그러나 이전의 사고 블록은 자동으로 컨텍스트 윈도우 계산에서 제거되며, 모델이 이후 텐에서 보는 대롸 기록의 일부가 아니라 실제 대화 내용에 대한 토큰 용량을 보존합니다.


---

Claude Sonnet 4.5와 Claude Haiku 4.5는 맥락 인식 기능을 갖추고 있어, 이러한 모델들이 대화 중 남아 있는 맥락 창(즉, "토큰 예산")을 추적할 수 있습니다. 

이는 Claude가 작업을 수행하고 맥락을 보다 효과적으로 관리할 수 있게 하여, 작업을 수행할 수 있는 공간이 얼마나 남았는지를 이해하게 합니다. 

Claude는 남은 토큰 수를 추측하는 대신, 작업을 끝까지 지속하기 위해 이 맥락을 정확하게 사용하는 방식으로 본래 훈련되었습니다. 

모델에게 맥락 인식이 부족하다는 것은 시계 없이 요리 쇼에 참가하는 것과 같습니다. 

Claude 4.5 모델은 남은 맥락에 대해 모델에 명시적으로 알려줌으로써, 사용 가능한 토큰을 최대한 활용할 수 있도록 변화시킵니다.


---


기존 방식 (Claude Sonnet 3.7 이전):

프롬프트 + 출력 토큰이 컨텍스트 윈도우를 초과하면 → 조용히 컨텍스트를 잘라냄 (문제를 숨김)
사용자는 모르게 입력의 일부가 무시됨
결과는 부정확할 수 있지만, 오류 없이 반환됨

새로운 방식 (Claude Sonnet 3.7부터):

프롬프트 + 출력 토큰이 컨텍스트 윈도우를 초과하면 → 검증 오류 반환
"너 이 작업 못 해. 토큰이 너무 많아"라고 명확히 알려줌
