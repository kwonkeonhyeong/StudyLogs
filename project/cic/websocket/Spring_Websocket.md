## Spring Websocket

Spring 자체가 직접 소켓을 저수준에서 잡고 있는 것이 아니라, Spring Boot에 내장된 서블릿 컨테이너 (주로 Tomcat)가 실제 연결을 관리합니다.

Spring인 이를 추상화하여 Handler만 작성하면 되게뜸 도와준다.

**I/O 스레드 할당**

- 웹소켓을 통해 메시지가 오면, 서블릿 컨테이너의 Worker Thread 하나가 handleTextMessage를 실행한다.

**동기적 실행**

- 스레드는 동기적으로 동작한다.

**병목 위험**

- 동기적으로 동작하는 스레드에서 복잡한 계산을 하거나 DB 에 데이터를 저장(Blocking I/O)하면, 다음 메시지를 받아야 할 스레드가 묶여버립니다.

- 이런 상황에서 바이낸스 처럼 초당 수백 개의 데이터가 쏟아지는 환경에선 Backpressure(역압력) 문제가 발생하여 연결이 끊길 수 있습니다.

